---
import Layout from '@layouts/Layout.astro';

//Components
import { Image, Picture } from 'astro:assets';
import Background from '@components/Background.astro';
import Hero from '@components/Hero.astro';
import MediaObject from '@components/Media-Object.astro';
import heroImage from '@images/moon-7.jpg';

const imageKitBaseURL = "https://ik.imagekit.io/rb7q3yxmzqn";
const imagePath = "moons/moon-1_u-HpwpOBH.JPG?";  // Replace with your image path

const widths = [240, 540, 720, 1200];
const srcSet = widths.map(width => `${imageKitBaseURL}${imagePath}?tr=w-${width} ${width}w`).join(", ");
const defaultSrc = `${imageKitBaseURL}${imagePath}?tr=w-1200`;  // Default fallback image
---

<style>
  .pad-block-3xl { padding-block: var(--space-3xl); }
</style>

<Layout title="Welcome to Astro." description="The official site of Astro.">

  <Image
    src={heroImage}
    alt="descriptive text"
    widths={[240, 540, 720, heroImage.width]}
    sizes={`(max-width: 360px) 240px, (max-width: 720px) 540px, (max-width: 1600px) 720px, ${heroImage.width}px`}
  />
  
  <main>
    <Background
      tag='section'
      gradients={[
        "linear-gradient(to bottom, rgba(255, 255, 255, 0) 80%, rgba(255, 255, 255, 1))",
        "linear-gradient(to top, rgba(255, 255, 255, 0) 80%, rgba(255, 255, 255, 1))"
      ]}
      imagePaths={[ 
        "/src/img/blob-1.svg", 
        "/src/img/blob-2.svg",
        "/src/img/blob-3.svg",
        "/src/img/hexellence.png" 
      ]}
      backgroundProperties={[
        { position: 'top -10vw left -50vw', size: '80vw' },
        { position: 'center right -10vw', size: '40vw' },
        { position: 'bottom left -10vw', size: '40vw' },
        { repeat: 'repeat', size: 'auto' }
      ]}
      backgroundColor="#ffffff"
      aspectRatio="var(--ratio-square)"
    >
    </Background>
    
    <Background
      tag="article"
      gradientsFirst={false}
      gradients={[ "linear-gradient(103deg,#98d9d6 8%,#55c6b0 99%)" ]}
      imagePaths={[ "/src/img/curve-divider-stroke.svg" ]}
      backgroundProperties={[
        { repeat: "no-repeat", position: "top center", size: "100%" }
      ]}
      backgroundColor="lightgray"
      classes="grid align-center stack justify-center max-inline-content pad-block-3xl"
      aspectRatio="var(--ratio-ultrawide)"
      gap="var(--space-3xl)"
    >
      <!-- Hero -->
      <MediaObject  
        title="Explore the World with Us"
        tag="h1"
        subtitle="Join our adventure and make a difference"
        content={[
          `We offer the <b>perfect adventure</b> for every <em>travel enthusiast</em>. 
          We are committed to providing the best experiences in travel and adventure. 
          Our team is dedicated to providing <b>top-notch services</b>.`,
          
          `Discover new <strong>adventures in places</strong> and make lasting memories with us. 
          <a href="/more-info">
          Learn more
          <span class="sr-only">about the way to talk to screen readers</span>
          </a>.`
        ]}
        mediaPath="/src/img/green-marble.jpg"  
        altText="A beautiful landscape"
        layout="media-left"
        mediaWidth={500}
        mediaHeight={300}
        classes="my-custom-class"
        style="gap: var(--space-md-lg);"
      >
        <!-- slotted content -->
        <button class="confetti">Confetti</button>
        <!-- /slotted content -->
      </Hero>
      
      <!-- Hero -->
      <MediaObject  
        title="Explore the World with Us"
        tag="h1"
        subtitle="Join our adventure and make a difference"
        content={[
          `We offer the <b>perfect adventure</b> for every <em>travel enthusiast</em>. 
          We are committed to providing the best experiences in travel and adventure. 
          Our team is dedicated to providing <b>top-notch services</b>.`,
          
          `Discover new <strong>adventures in places</strong> and make lasting memories with us. 
          <a href="/more-info">
          Learn more
          <span class="sr-only">about the way to talk to screen readers</span>
          </a>.`
        ]}
        mediaPath="/src/img/earth.mp4"  
        altText="A beautiful landscape"
        layout="media-left"
        mediaWidth={500}
        mediaHeight={300}
        classes="my-custom-class"
        style="gap: var(--space-md-lg)"
      >
        <!-- slotted content -->
        <button class="confetti">Confetti</button>
        <!-- /slotted content -->
      </Hero>

      <!-- Media Object -->
      <MediaObject 
        title="Explore the World with Us"
        tag="h1"
        subtitle="Join our adventure and make a difference"
        content={[
          `We offer the <b>perfect adventure</b> for every <em>travel enthusiast</em>. 
          We are committed to providing the best experiences in travel and adventure. 
          Our team is dedicated to providing <b>top-notch services</b>.`,
          
          `Discover new <strong>adventures in places</strong> and make lasting memories with us. 
          <a href="/more-info">
          Learn more
          <span class="sr-only">about the way to talk to screen readers</span>
          </a>.`
        ]}
        mediaPath="/src/img/green-marble.jpg"  
        altText="A beautiful landscape"
        layout="media-left"
        mediaWidth={500}
        mediaHeight={300}
        classes="my-custom-class"
        style="gap: var(--space-md-lg);"
      >
        <!-- slotted content -->
        <button class="confetti">Confetti</button>
        <!-- /slotted content -->
      </MediaObject>
    </Background>
  </main>
</Layout>

<script>
  import jsConfetti from 'js-confetti';
  const confetti = new jsConfetti();

  document.addEventListener('DOMContentLoaded', () => {
  const funBtns = document.querySelectorAll('.confetti');
  
  if (!funBtns.length) return;
  
  funBtns.forEach(funBtn => {
    let likes = 0;

    funBtn.addEventListener('click', () => {
      likes++;
      funBtn.textContent = `Confetti (${likes})`;
      funBtn.setAttribute('aria-label', `Confetti: ${likes}`);
      confetti.addConfetti();
    });
  });
});

</script>