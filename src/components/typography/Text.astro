---
import type { HTMLAttributes } from 'astro/types';

interface Props extends HTMLAttributes<"h1"> {
  as?: 'p' | 'pre' | 'small' | 'span' | 'strong' | 'em' | 'i' |'b';
  size?: 'xs' | 'sm' | 'md' | 'lg' | 'xl';
  color?: 'base' | 'brand';
  text?: string;
  contrast?: boolean;
  classes?: string;
}

const { 
  as = 'p',
  size = 'md',
  color = 'base',
  text,
  contrast = false,
  classes,
  ...rest
} = Astro.props;

const Tag = as;
---

<style>
  p {
    font-size: var(--font-size-md);
    max-inline-size: var(--measure-lg);
    text-wrap: pretty;
    overflow-wrap: break-word;
    
    &:last-child { margin-block-end: 0; }
  }

  .text-2xl { font-size: var(--font-size-2xl) }
  .text-xl { font-size: var(--font-size-xl) }
  .text-lg { font-size: var(--font-size-lg) }
  .text-md { font-size: var(--font-size-md) }
  .text-sm { font-size: var(--font-size-sm) }
  .text-xs { font-size: var(--font-size-xs) }
</style>

<Tag class:list={[size && `text-${size}`, color, contrast && 'contrast', classes]} {...rest}>
  <slot /> 
  {text}
</Tag>