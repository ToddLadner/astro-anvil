---
import { Icon } from 'astro-icon/components';
import type { HTMLAttributes } from 'astro/types';

interface Props extends HTMLAttributes<"button"> {
  type?: "button" | "submit" | "reset" ;
  theme?: "primary" | "secondary" | "plain" | "hug";
  size?: "xs" | "sm" | "md" | "lg" | "xl";
  shape?: "square" | "circle" | "pill";
  varient?: "icon";
  text?: string;
  icon?: string;
  classes?: string;
}

const { 
  type = "button", 
  size,
  theme,
  varient, 
  shape,
  text, 
  icon,
  classes, 
  ...rest 
  } = Astro.props;
---

<style>
  .btn-xl { --size: var(--font-size-xl) }
  .btn-lg { --size: var(--font-size-lg) }
  .btn-md { --size: var(--font-size-md) }
  .btn-sm { --size: var(--font-size-sm) }
  .btn-xs { --size: var(--font-size-xs) }
</style>

<button {type} class:list={[size && `btn-${size}`, theme, shape, varient, classes]} {...rest}>
  { icon && <Icon name={icon} /> }
  <span class:list={[varient === 'icon' && 'sr-only']}>
    <slot/>
    {text}
  </span>
</button>